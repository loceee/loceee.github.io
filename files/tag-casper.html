<!doctype html>  

<!--[if IE 7 ]><html lang="en" class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html lang="en" class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html lang="en" class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en" class="no-js"><!--<![endif]-->

<head>
		<meta name="viewport" content="width=device-width; initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="generator" content="RapidWeaver" />
		
		<title>home</title>
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/skeleton.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/styles.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/responsive.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/colour_tags.css" />
		<script type="text/javascript" src="../rw_common/themes/gallant/javascript.js"></script>
		<script type="text/javascript" src="../rw_common/themes/gallant/scripts/function.js"></script>
  		<script>RwSet={pathto:"../rw_common/themes/gallant/javascript.js",baseurl:"http://www.rehrehreh.com/"};</script>
  		<script type="text/javascript" src="../rw_common/themes/gallant/scripts/modernizr.min.js"></script>
  		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/header/logo.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/texture/header_dots.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/texture/footer_none.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/title_normal.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/title_league.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/slogan_italic.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/slogan_league.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/menu_verdana.css" />
		<script type="text/javascript" src="../rw_common/themes/gallant/scripts/sidebar/right.js"></script>
		<script type="text/javascript" src="../rw_common/themes/gallant/scripts/banner/collapse.js"></script>
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/headings_helvetica.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/content_verdana.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="../rw_common/themes/gallant/css/font/content_13px.css" />
		
		<style type="text/css" media="all">a#logo {
   float: left;
   clear: both;
}
</style>
		
	    <link rel="alternate" type="application/rss+xml" title="rehrehreh" href="http://www.rehrehreh.com/files/feed.xml" />
	    
	    
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<style>.subnavcontainer, .subnavcontainerDrop {display:none;}</style>
	<![endif]-->
	
	</head>
	<body>
	<header>
		
		<div class="container">
		<div class="sixteen columns over">
			<div id="socialIcons"></div>
			<nav><ul class="nojs"><li><a id="current" href="../index.html" rel="self" class="current">home</a></li><li><a href="http://patchoo.github.io/patchoo/" rel="self">patchoo!</a></li><li><a href="../about/index.html" rel="self">about</a></li></ul></nav>
			<div class="subnavcontainer"><ul class="nojs"><li><a id="current" href="../index.html" rel="self" class="current">home</a></li><li><a href="http://patchoo.github.io/patchoo/" rel="self">patchoo!</a></li><li><a href="../about/index.html" rel="self">about</a></li></ul></div>
			<a id="logo" href="http://www.rehrehreh.com/" title="Home"><img src="../rw_common/images/rehrehreh.png" width="300" height="115" alt="Site logo"/></a>
			<h1 id="title">rehrehreh</h1>
			<h2 id="slogan"></h2>
		</div>
		</div><!-- end container -->
	</header>
				<div class="subnavcontainerDrop">
					<div class="container"><ul class="nojs"><li><a id="current" href="../index.html" rel="self" class="current">home</a></li><li><a href="http://patchoo.github.io/patchoo/" rel="self">patchoo!</a></li><li><a href="../about/index.html" rel="self">about</a></li></ul></div><!-- end container -->
				</div>
		<div id="banner">
			<div class="container">
				<div id="featureImg">
					<img src="../resources/banner_1.jpg" alt="" class="scale-with-grid banner1" style="display:none">
					<img src="../resources/banner_2.jpg" alt="" class="scale-with-grid banner2" style="display:none">
					<img src="../resources/banner_3.jpg" alt="" class="scale-with-grid banner3" style="display:none">
					<img src="../resources/banner_4.jpg" alt="" class="scale-with-grid banner4" style="display:none">
					<img src="../resources/banner_5.jpg" alt="" class="scale-with-grid banner5" style="display:none">
					<img src="../resources/banner_6.jpg" alt="" class="scale-with-grid banner6" style="display:none">
					<img src="../resources/banner_7.jpg" alt="" class="scale-with-grid banner7" style="display:none">
					<img src="../resources/banner_8.jpg" alt="" class="scale-with-grid banner8" style="display:none">
					<div id="extraContainer1"></div> 
				</div><!-- end featureImg -->
			</div><!-- end container -->
		</div><!-- end banner -->
			<section>
			<div class="container">
						<div id="extraContainer2"></div>
						<div class="single twelve columns"  id="main" role="main">
								 
	
	<div class="blog-archive-headings-wrapper">
		<div class="blog-archive-month">casper</div>
		<div class="blog-archive-link"><a href="../index.html">home</a></div>
	</div>
	
	<div class="blog-archive-entries-wrapper">
		<div id="unique-entry-id-8" class="blog-entry"><h1 class="blog-entry-title"><a href="hi-patchoo-deploy.html" class="blog-permalink">Introducing Patchoo Deploy
</a></h1><div class="blog-entry-date">19/09/14 13:08 </div><div class="blog-entry-body">Patchoo Deploy provides a framework for deployment and provisioning of new or re-imaged Macs.<br /><br />As Casper admins are moving from an "image" based deployment workflows to policy based "thin provisioning" over the top of a factory Apple build, or a vanilla AutoDMGed Mac, PD aims to provide with the following:<br /><br />	&bull;	GUI for prompting for provisioning info<br />	&bull;	JSS api read/write of provisioning info<br />	&bull;	GUI / loginwindow lock during deployment<br />	&bull;	allow Macs to be re-deployed / imaged, and base builds on persistent JSS data, rather than fake pkg receipts.<br /><br />It supports a number of workflows<br /><br />	1.	Mac OOTB<br />	2.	Setup Assistant<br />	3.	QuickAdd enroled via user or admin<br />	4.	User or admin can be prompted for the following provisioning information:<br />	<span style="font:12px &#39;Lucida Grande&#39;, LucidaGrande, Verdana, sans-serif; ">◦</span>	ComputerName<br />	<span style="font:12px &#39;Lucida Grande&#39;, LucidaGrande, Verdana, sans-serif; ">◦</span>	Custom Patchoo "Build" extension attribute (this can be used to scope, and fires a custom deploy-xxx trigger)<br />	<span style="font:12px &#39;Lucida Grande&#39;, LucidaGrande, Verdana, sans-serif; ">◦</span>	Department<br />	<span style="font:12px &#39;Lucida Grande&#39;, LucidaGrande, Verdana, sans-serif; ">◦</span>	Building<br />	5.	The JSS has provision details written.<br />	6.	A launchagent and bootstraphelper is written to drive the "bootstrap" process.<br />	7.	The Mac restarts<br />	8.	Bootstrap starts a loginwindow, the screen is locked.<br />	9.	Mac pulls provision information from the JSS.<br />	10.	Bootstraphelper fires -trigger deploy<br />	11.	All policies scoped to this trigger are run (scope geographic or department specific in this way).<br />	12.	Bootstraphelper fires -trigger deploy-xxxx (xxx being your build intentifier stored in the JSS ext attrib) - scope build specific policies.<br />	13.	Deploy process is finished.<br />	14.	Mac restarts and starts update loop.<br />	15.	A patchoo update session loops until Mac is fully patched.<br />	16.	Loginwindow unlocks.<br /><br />You can leverage, all some or none of the provisioning details. You can support admin or enduser enrolment and provisioning. Macs that are imaged via Casper Imaging and don't have provisioning information go in to a "holdingpattern", touch a receipt, recon and you can scope a smart group to catch and notify administrators.<br /><br /><br /><br />On enrollment complete trigger.<br /><img class="imageStyle" alt="pd_welcome" src="pd_welcome.png" width="534" height="251" /><br /><br />Prompted to confirm and set computername<br /><img class="imageStyle" alt="pd_computername" src="pd_computername.png" width="534" height="275" /><br /><br />The JSS is checked for an existing computername.<br /><img class="imageStyle" alt="pd_computername_exists" src="pd_computername_exists.png" width="534" height="234" /><br /><br />The Patchoo Build EA is read, and prompted for.<br /><img class="imageStyle" alt="pd_select_build" src="pd_select_build.png" width="366" height="362" /><br /><br />If no API user with write access is provided, an admin can set the provisioning details and enter their credentials.<br /><img class="imageStyle" alt="pd_enter_admin" src="pd_enter_admin.png" width="534" height="275" /><br /><br />Once done, the Mac restarts. Provision looks like this (the jamf log is tailed and displayed on a 3 sec interval)<br /><img class="imageStyle" alt="pd_install_chrome" src="pd_install_chrome.png" width="1052" height="853" /><br />If a Mac is enroled via a non-interactive method (Casper Imaging / Recon network scans) or prompt for info is disabled... the Mac may have no provisioning info. The holdingpattern is displayed, and the JSS is queried every 2 minutes.<br /><img class="imageStyle" alt="pd_waiting_provision" src="pd_waiting_provision.png" width="1052" height="853" /><br /><br />This is very beta and the documentation is rough to say the least, but I do encourage you to play with it and provide feedback! If you are interesting is taking a look.<br /><br />Jump on the "deploy" branch here - <a href="https://github.com/patchoo/patchoo/tree/deploy" rel="self">https://github.com/patchoo/patchoo/tree/deploy</a><br /><br />Log issues or jump on the jamfnation thread. <a href="https://jamfnation.jamfsoftware.com/discussion.html?id=11849" rel="self">https://jamfnation.jamfsoftware.com/discussion.html?id=11849</a><br /><br /><br /><p class="blog-entry-tags">Tags: <a href="tag-patchoo.html" title="patchoo" rel="tag">patchoo</a>, <a href="tag-casper.html" title="casper" rel="tag">casper</a>, <a href="tag-deployment.html" title="deployment" rel="tag">deployment</a>, <a href="tag-provisioning.html" title="provisioning" rel="tag">provisioning</a>, <a href="tag-beta.html" title="beta" rel="tag">beta</a></p><div class="blog-entry-comments"><a class="blog-comment-link" href="hi-patchoo-deploy.html#disqus_thread">Comments</a></div></div></div>
<div id="unique-entry-id-7" class="blog-entry"><h1 class="blog-entry-title"><a href="patchoo-v9941.html" class="blog-permalink">0.9941 - Autopkg + JSS + Patchoo!  & No more Mr. Nice Admin</a></h1><div class="blog-entry-date">25/07/14 10:11 </div><div class="blog-entry-body"><br /><h2>AutoPKG + JSS-autopkg-addon + Patchoo</h2><br /><br />The holy grail of Casper software deployment?<br /><br />If you don't know how cool <a href="https://github.com/autopkg/autopkg" rel="self">AutoPKG</a> is, <a href="https://github.com/autopkg/autopkg/wiki/Getting-Started" rel="self">you best get acquainted</a>. In a nutshell, it will follow a recipe -  check, download and repackage software for you, and with the very recent addition of a <a href="https://github.com/lindegroup/autopkgr" rel="self">GUI</a> it will do it at the touch of a button!<br /><br />I am yet to get my hands dirty with the way it all works myself, but <a href="https://github.com/arubdesu" rel="self">Allister Banks</a> has built a processor for AutoPKG that every JAMF admin should be very excited about.<br /><br /><a href="https://github.com/arubdesu/jss-autopkg-addon" rel="self">JSS-autopkg-addon</a> effectively takes freshly built pkgs from autopkg, loads them onto your CDP and then creates the necessary smart groups and policies required for distribution. Cool beans! There has been a <a href="https://jamfnation.jamfsoftware.com/discussion.html?id=10961" rel="self">bit of talk on JAMF Nation and various channels</a> about some of the shortcomings of Casper software deployment, that it's far too admin heavy. Automating a lot of the tedium around policy and smart group creation will go along way to solving this until JAMF revamps it's software deployment tools.<br /><br /><a href="https://jamfnation.jamfsoftware.com/discussion.html?id=9379" rel="self">Calum Hunter has modified</a> the <a href="https://github.com/hunty1/jss-autopkg-addon/blob/master/JSSImporter.py" rel="self">policy and smart group template that JSS-autopkg-addon</a> uses, and it can now dump these freshly created flat pkgs into your patchoo-dev track 100% ready for testing and deployment!<br /><br /><ol class="arabic-numbers"><li>AutoPKG recipe runs.</li><li>Go to your dev/testing Mac client and start a Patchoo run click "Check for Updates" in Self Service.</li><li>Test deployment and app function.</li><li>Move update to beta.</li><li>Move update to production.</li></ol><br />A huge thanks to all the AutoPKG gang, all the Patchoo users and the entire Mac Admin community. We are all doing and ever more importantly, sharing some awesome work!  We are the pirates taking over enterprise IT!<br /><br /><br /><h2>Nasty Mode</h2><br /><br />No more Mr. Nice Admin!<br /><br />Until now, Patchoo has <em>pseudo</em> forced installations once the defer counter expired. There was only one button, but by design I didn't want a timeout to logout and install if a Mac was unattended.<br /><br />Unfortunately, in this day and age of modern client management, those tricky users will find a loophole and do their darndest to not install software patches. We have a few users that are deliberately ignoring the all installations prompts. Catching them in the PatchooDeferCount10+ group and sending reminder emails from the JSS worked, sometimes, but at some sites I had to engage support technicians to physically walk to desks and talk with users. That's not a great use of anyone's time.<br /><br />But in the end, it's too much admin work and there will always be people that don't have the 5 minutes a month it takes to patch their systems. Well, no more....<br /><br /><strong>nastymode=true</strong><br /><br />When enabled (default), if the final forced update prompt is ignored, users are forcibly logged out and patches are installed. Users ARE allowed to save work and will be prompted. Stuck apps will pause the logout process, but it's persistent and will keep quitting apps until users are logged out.<br /><br />If you are in the same situation, addressing the issue as a security and compliance matter is the best way to allay complaints. We are a public US company and must comply with SOX, even if it sometimes can be slightly inconvenient for our staff.<br /><br />Get the <a href="https://github.com/patchoo/patchoo" rel="self">latest commit</a><br /><br /><br /><h2>Licensing</h2><br /><br />You'll also notice a long overdue license file in the repo as well. Patchoo is released under Apache 2.0.<br /><br />I'm no fancy big city lawyer, but this pretty much means you can use it how you want. I've had some great interest and been surprised at some of the really cool companies that are using it (most I can't mention unfortunately). Hopefully this means a few more with more stringent legal requirements can use it too!<br /><br /><img class="imageStyle" alt="vlcsnap-331509" src="vlcsnap-331509.png" width="230" height="172" /><br /><br />If you'd like to contribute please feel free to reach out, or get on Github and submit pull requests!<br /><br /><p class="blog-entry-tags">Tags: <a href="tag-patchoo.html" title="patchoo" rel="tag">patchoo</a>, <a href="tag-casper.html" title="casper" rel="tag">casper</a>, <a href="tag-osx.html" title="osx" rel="tag">osx</a>, <a href="tag-autopkg.html" title="autopkg" rel="tag">autopkg</a>, <a href="tag-jssautopkgaddon.html" title="jssautopkgaddon" rel="tag">jssautopkgaddon</a>, <a href="tag-jamfnation.html" title="jamfnation" rel="tag">jamfnation</a></p><div class="blog-entry-comments"><a class="blog-comment-link" href="patchoo-v9941.html#disqus_thread">Comments</a></div></div></div>
<div id="unique-entry-id-6" class="blog-entry"><h1 class="blog-entry-title"><a href="patchoo-v994.html" class="blog-permalink">0.994 - fixes & major OSX Upgrades</a></h1><div class="blog-entry-date">08/07/14 10:09 </div><div class="blog-entry-body"><a href="https://github.com/patchoo/patchoo/commit/97df950c7b708df02feb9b456a69f5ceb9fc0903" rel="self">Patchoo 0.944 has been pushed</a> and fixes handling of zipped pkg bundles on Casper 9. I've only recently migrated to the new 9 format (don't ask) and there was a bug when looking up zipped pkg <a href="https://github.com/patchoo/patchoo/blob/master/docs/upload_pkg.md" rel="self">friendly names</a> in the JSS.<br /><br />Changes in this release:<br /><br /><ul class="disc"><li>correctly handle and lookup zipped pkg bundle info from the JSS.</li><li>improvements in OSX upgrades using <a href="https://code.google.com/p/munki/downloads/detail?name=createOSXinstallPkg_20131007.zip" rel="self">createOSXInstallPKG</a></li><li>fixed a small UI discrepancy in the OSX upgrade prompts</li><li>quoted api credentials handle special chars in passwords.</li></ul><br />Did you know you can perform major OSX upgrades via Patchoo? By using <a href="https://code.google.com/p/munki/downloads/detail?name=createOSXinstallPkg_20131007.zip" rel="self">createOSXInstallPKG</a> and patchoo you can provide <em>as convenient admin hands-off</em> major OSX upgrade deployment to 10.9 (or 10.10) via Casper.<br /><br /><br /><img class="imageStyle" alt="Screen Shot 2014-07-07 at 11.35.44 am" src="screen-shot-2014-07-07-at-11.35.44-am.png" width="588" height="398" /><br /><br />Here's a great tip!<br /><br />Use a smart group to scope your deployment, and utilise nested groups to release it to clients as you require. Some organisations may have legacy enterprise software which may not be supported by the latest release of OSX. Instead of doing a blanket upgrade to all clients you can do the following:<br /><br />Scope the patchoo requirements like so:<br /><br />Cached Pkg does not have:<strong> OSXInstall10.9.3.pkg.zip</strong><br />OS is not like, 10.6,10.9, 10.10<br /><br />And then you can setup a static computer group (update10.9-manual) to add Macs you wish to upgrade to.<br /><br />Group them in ( ) with OR, and you can add an entire department or office smart group to deploy Mavericks (or Yosemite) to a all computers <em>without</em> further admin interaction.<br /><br />Once they are scoped correctly (make sure you check!), you might like to send an email direct from the JSS advising users of the impending upgrade and what to expect. Don't have your JSS populated with your user's directory information and email addresses? Don't worry, <a href="https://github.com/loceee/OSXCasperScripts/blob/master/superrecon.sh" rel="self">I can help there too</a>.<br /><br /><img class="imageStyle" alt="Screen Shot 2014-07-08 at 10.19.15 am" src="screen-shot-2014-07-08-at-10.19.15-am.png" width="490" height="339" /><br /><br />Users receive updates in the same way they usually do, but are prompted additionally that the update requires AC power and will take up to 90 minutes.<br /><br /><img class="imageStyle" alt="warning_osx_prompt" src="warning_osx_prompt.png" width="368" height="226" /><img class="imageStyle" alt="warning_osx_2" src="warning_osx_2.png" width="368" height="226" /><br /><br /><br />For more information please read the documentation here. <a href="https://github.com/patchoo/patchoo/blob/master/docs/deploying_major_osx_upgrades.md" rel="self">Deploying Major OSX Upgrades</a><p class="blog-entry-tags">Tags: <a href="tag-patchoo.html" title="patchoo" rel="tag">patchoo</a>, <a href="tag-casper.html" title="casper" rel="tag">casper</a>, <a href="tag-fixes.html" title="fixes" rel="tag">fixes</a>, <a href="tag-yosemite.html" title="yosemite" rel="tag">yosemite</a></p><div class="blog-entry-comments"><a class="blog-comment-link" href="patchoo-v994.html#disqus_thread">Comments</a></div></div></div>
<div id="unique-entry-id-5" class="blog-entry"><h1 class="blog-entry-title"><a href="patchoo-v9931.html" class="blog-permalink">Mavericks & Yosemite Yup!</a></h1><div class="blog-entry-date">17/06/14 16:05 </div><div class="blog-entry-body"><br /><img class="imageStyle" alt="images" src="images.jpeg" width="187" height="270" /><br /><br />I love <a href="http://mstratman.github.io/cocoadialog/" rel="self">cocoaDialog</a>, but it seems that Mavericks and Yosemite don't as much. It was always going to be a risk, relying on software that's been stagnating for 2 years without an update... if I had the smarts I'd pick it up, but I don't.<br /><br />Until someone can take cocoaDialog and update it for Mavericks new security features... (<a href="https://jamfnation.jamfsoftware.com/discussion.html?id=10636#responseChild60938" rel="self">as stated by Greg Neagle</a> - apps need to do very specific things to be allowed to play outside of a logged in user session in 10.9+) ... I've  shoehorned a workaround, which whilst not terribly elegant, it does the job.<br /><br />Patchoo 0.9931 - <a href="https://github.com/patchoo/patchoo" rel="self">https://github.com/patchoo/patchoo</a><br /><br />It performs a <em>fauxLogout</em> by quitting all apps (this will break [x] Reopen on Login), then uses the ARD framework's LockScreen to prevent user interaction. It also tweaks cocoaDialog LSUIEelement and LSUIPresentation mode for the install run. This hides the Dock and Menu bar. Taddaa!<br /><br />A kludgey pretty awful, but functional way to lock down whilst we perform software installations.<br /><br />Grab the <a href="https://github.com/patchoo/patchoo/commit/f68fd7838d3b01ecb848904250bb730072c21295" rel="self">latest code</a> and let me know how you go!<br /><br /><br /><p class="blog-entry-tags">Tags: <a href="tag-patchoo.html" title="patchoo" rel="tag">patchoo</a>, <a href="tag-casper.html" title="casper" rel="tag">casper</a>, <a href="tag-apple.html" title="apple" rel="tag">apple</a>, <a href="tag-osx.html" title="osx" rel="tag">osx</a>, <a href="tag-mavericks.html" title="mavericks" rel="tag">mavericks</a>, <a href="tag-yosemite.html" title="yosemite" rel="tag">yosemite</a></p><div class="blog-entry-comments"><a class="blog-comment-link" href="patchoo-v9931.html#disqus_thread">Comments</a></div></div></div>
<div id="unique-entry-id-3" class="blog-entry"><h1 class="blog-entry-title"><a href="patchoo-v99.html" class="blog-permalink">Patchoo v0.99</a></h1><div class="blog-entry-date">29/05/14 14:35 </div><div class="blog-entry-body"><a href="http://patchoo.github.io/patchoo/" rel="self" title="patchoo!">It's here</a> and features some great enhancements.<br /><br /><ul class="disc"><li>changed name of PreUpdate to patchooStart</li><li>new super progress bar for jamf installs!</li><li>new --cache mode minimises admin workload, no more passing metadata direct to the script!</li><li>changes to parameters and order on patchoo.sh.</li><li>some updated docs and screengrabs. Included the Self Service policies&hellip; </li><li>packaged triggers as promised.</li></ul><br /><strong><em>Make sure if you were using 0.98 read the docs! The parameter order and --cache mode has changed!</em></strong><br /><br />Now it's as simple as uploading your package, adding a nice name in the info field, create your smart group, create your policy to cache the pkg, then just add  <code>patchoo.sh --cache</code> to run AFTER.<br /><br /><img class="imageStyle" alt="policy_vlc_script" src="policy_vlc_script.png" width="517" height="273" /><img class="imageStyle" alt="pkginfo_jss" src="pkginfo_jss.png" width="395" height="357" /><br /><br />Patchoo figures out what's been added to the <em>JAMF/Waiting Room</em> and pulls the pkg metadata direct from the JSS api!<br /><br />Cool!<br /><br />Now imagine if some robots could <a href="https://github.com/autopkg/autopkg" rel="self">make your packages</a> for you, then <a href="https://github.com/arubdesu/jss-autopkg-addon" rel="self">import them into the JSS and create your smart group</a> for you.<br /><br />What a world we live in!<p class="blog-entry-tags">Tags: <a href="tag-patchoo.html" title="patchoo" rel="tag">patchoo</a>, <a href="tag-casper.html" title="casper" rel="tag">casper</a>, <a href="tag-apple.html" title="apple" rel="tag">apple</a>, <a href="tag-osx.html" title="osx" rel="tag">osx</a>, <a href="tag-patching.html" title="patching" rel="tag">patching</a></p><div class="blog-entry-comments"><a class="blog-comment-link" href="patchoo-v99.html#disqus_thread">Comments</a></div></div></div>
<div id="unique-entry-id-2" class="blog-entry"><h1 class="blog-entry-title"><a href="patchoo-issues-and-enhancements.html" class="blog-permalink">Patchoo issues and enhancements</a></h1><div class="blog-entry-date">21/05/14 11:05 </div><div class="blog-entry-body">A bunch of people are testing it out <a href="http://patchoo.github.io/patchoo/" rel="self">Patchoo</a> and directing comments and feedback to the <a href="https://jamfnation.jamfsoftware.com/discussion.html?id=10636" rel="self">thread on JAMFnation</a>.<br /><br />It would be best if you can start throwing issues and requests directly into <a href="https://github.com/patchoo/patchoo/issues" rel="self">Github project's issue tracker</a>. That way I can track and nail down bugs, and fix the wonky bits of <a href="https://github.com/patchoo/patchoo/blob/master/docs/_index.md" rel="self">documentation</a>.<br /><br />And now on the the planned changes before I bounce it to <a href="https://github.com/patchoo/patchoo/issues?milestone=1&state=open" rel="self">0.99</a>.<br /><br />Just as I released it and <em>completed</em> the docs, I realised that one of my grumble points from an admin workflow was the fact we had to manually pass parameters to the --cache mode and tell the script which pkg was being cached.<br /><br />Can we remove this?<strong> Yes, we can</strong>!<br /><br /><code>ls -tr /Library/Application\ Support/JAMF/Waiting\ Room/ | tail -n 1 | grep -v .cache.xml</code><br /><br />We shouldn't be parsing ls I know.. this will return the newest pkg addition to the Waiting Room. If run directly after a pkg cache, and then we check against existing patchoo pkgdata metadata, this should be pretty robust way of locating what has been cached.. without telling the script directly.<br /><br />Now, how do we get a friendly name for UI? <br /><br />Then we just query the JSS, pull down the pkg info, then parse out the pkg info <a href="https://github.com/patchoo/patchoo/issues/3" rel="self">https://github.com/patchoo/patchoo/issues/3</a> <info>A friendly Name for your App 14.21</info> can be entered into the jss via Casper Admin as you import your packages!<br /><br />Now a pkg deployment / caching policy only requires that you add <code>0patchoo.sh --cache</code> and set it to <em>Run After </em>!<br /><br /><br /><br /><p class="blog-entry-tags">Tags: <a href="tag-patching.html" title="patching" rel="tag">patching</a>, <a href="tag-casper.html" title="casper" rel="tag">casper</a>, <a href="tag-issues.html" title="issues" rel="tag">issues</a>, <a href="tag-enchancements.html" title="enchancements" rel="tag">enchancements</a>, <a href="tag-github.html" title="github" rel="tag">github</a></p><div class="blog-entry-comments"><a class="blog-comment-link" href="patchoo-issues-and-enhancements.html#disqus_thread">Comments</a></div></div></div>
	</div>
	
	 

	

<script type="text/javascript">
//<![CDATA[
var disqus_shortname = 'rehrehreh';
(function() {
	var s = document.createElement('script'); s.async = true;
	s.type = 'text/javascript';
	s.src = 'http://disqus.com/forums/' + disqus_shortname + '/count.js';
	(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	}());
//]]>
</script>

						</div>		
					
					<div class="sidebar four columns offset-by-one">
					<aside>
						<span id="asideTitle"></span>
						<span class="social"><a href="http://www.linkedin.com/in/lachlanstewart">l</a></span><br /><span class="social"><a href="https://i7lp.integral7.com/durango/do/pr/prSearchResultDetail?ownername=apple&D036E966675C40A4F2781F98BD661AB9=CEE0AC17FEDDBD04288234D8664D14B8&3D6CBF60ADAE3C6C0D8E570165AD529C=FAF2E13124A7A540264C21BAA0D42782&basechannel=default&channel=apple">2</a></span><br /><span class="social"><a href="https://github.com/loceee">G</a></span><br /><span class="social"><a href="https://twitter.com/loceee">t</a></span><br />
						<div id="asidePlug"><div id="blog-archives"><a class="blog-archive-link-enabled" href="archive-sep-2014.html">Sep 2014</a><br /><div class="blog-archive-link-disabled">Aug 2014</div><a class="blog-archive-link-enabled" href="archive-jul-2014.html">Jul 2014</a><br /><a class="blog-archive-link-enabled" href="archive-jun-2014.html">Jun 2014</a><br /><a class="blog-archive-link-enabled" href="archive-may-2014.html">May 2014</a><br /></div><ul class="blog-tag-cloud"><li><a href="tag--casper.html" title=" casper" class="blog-tag-size-7" rel="tag"> casper</a></li>
<li><a href="tag-apple.html" title="apple" class="blog-tag-size-9" rel="tag">apple</a></li>
<li><a href="tag-autopkg.html" title="autopkg" class="blog-tag-size-6" rel="tag">autopkg</a></li>
<li><a href="tag-beta.html" title="beta" class="blog-tag-size-6" rel="tag">beta</a></li>
<li><a href="tag-casper.html" title="casper" class="blog-tag-size-10" rel="tag">casper</a></li>
<li><a href="tag-deployment.html" title="deployment" class="blog-tag-size-5" rel="tag">deployment</a></li>
<li><a href="tag-enchancements.html" title="enchancements" class="blog-tag-size-5" rel="tag">enchancements</a></li>
<li><a href="tag-fixes.html" title="fixes" class="blog-tag-size-4" rel="tag">fixes</a></li>
<li><a href="tag-github.html" title="github" class="blog-tag-size-4" rel="tag">github</a></li>
<li><a href="tag-issues.html" title="issues" class="blog-tag-size-3" rel="tag">issues</a></li>
<li><a href="tag-jamfnation.html" title="jamfnation" class="blog-tag-size-3" rel="tag">jamfnation</a></li>
<li><a href="tag-jssautopkgaddon.html" title="jssautopkgaddon" class="blog-tag-size-2" rel="tag">jssautopkgaddon</a></li>
<li><a href="tag-junki.html" title="junki" class="blog-tag-size-2" rel="tag">junki</a></li>
<li><a href="tag-mavericks.html" title="mavericks" class="blog-tag-size-1" rel="tag">mavericks</a></li>
<li><a href="tag-munki.html" title="munki" class="blog-tag-size-8" rel="tag">munki</a></li>
<li><a href="tag-osx.html" title="osx" class="blog-tag-size-8" rel="tag">osx</a></li>
<li><a href="tag-patching.html" title="patching" class="blog-tag-size-9" rel="tag">patching</a></li>
<li><a href="tag-patchoo.html" title="patchoo" class="blog-tag-size-10" rel="tag">patchoo</a></li>
<li><a href="tag-provisioning.html" title="provisioning" class="blog-tag-size-1" rel="tag">provisioning</a></li>
<li><a href="tag-yosemite.html" title="yosemite" class="blog-tag-size-7" rel="tag">yosemite</a></li>
</ul>
<div id="blog-rss-feeds"><a class="blog-rss-link" href="feed.xml" rel="alternate" type="application/rss+xml" title="rehrehreh">RSS Feed</a><br /></div></div>
					</aside>
					</div>
			</div><!-- end container -->
			<div class="container">
			<div id="extraContainer3"></div>
					<div class="clear"></div>
			</div><!-- end container -->
			</section>
			<footer>
			<div class="container">
				<div id="extraContainer4"></div>
				<div id="breadcrumb"></div><div id="footerText">&copy; lachlan stewart <a href="#" id="rw_email_contact">Contact Me</a><script type="text/javascript">var _rwObsfuscatedHref0 = "mai";var _rwObsfuscatedHref1 = "lto";var _rwObsfuscatedHref2 = ":la";var _rwObsfuscatedHref3 = "ch+";var _rwObsfuscatedHref4 = "web";var _rwObsfuscatedHref5 = "201";var _rwObsfuscatedHref6 = "4@r";var _rwObsfuscatedHref7 = "ehr";var _rwObsfuscatedHref8 = "ehr";var _rwObsfuscatedHref9 = "eh.";var _rwObsfuscatedHref10 = "com";var _rwObsfuscatedHref = _rwObsfuscatedHref0+_rwObsfuscatedHref1+_rwObsfuscatedHref2+_rwObsfuscatedHref3+_rwObsfuscatedHref4+_rwObsfuscatedHref5+_rwObsfuscatedHref6+_rwObsfuscatedHref7+_rwObsfuscatedHref8+_rwObsfuscatedHref9+_rwObsfuscatedHref10; document.getElementById('rw_email_contact').href = _rwObsfuscatedHref;</script></div>
			</div><!-- end container -->
		</footer>

	<!-- Start LiveStats -->
<script type="text/javascript">
  var GoSquared = {acct: "GSN-723403-W"};
  (function(w){
    function gs(){
      w._gstc_lt = +new Date;
      var d = document, g = d.createElement("script");
      g.type = "text/javascript";
      g.src = "//d1l6p2sc9645hc.cloudfront.net/tracker.js";
      var s = d.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(g, s);
    }
    w.addEventListener ? w.addEventListener("load", gs, false) : w.attachEvent("onload", gs);
  })(window);
</script><!-- End LiveStats -->
</body>
</html>